# AI Job Recommendation System

**An AI recommendation system that helps users get the jobs they are qualified for without going through the stress and hassle of sifting through tons of irrelevant jobs. Users can get AI recommendations straight to their emails. It uses MySQL with Sequelize ORM, JWT authentication, account verification, password recovery, job cache and rate limiter.**

---
## Tech Stack 
- **Backend:** Node.js, Express.js  
- **Database:** MySQL + Sequelize ORM  
- **Authentication:** JWT, Bcrypt  
- **AI Integration:** Gemini API / GenAI for recommendation logic  
- **Email Service:** Nodemailer + EJS Templates  
- **Logging:** Pino Logger  
- **Caching:** Redis
---

## Key Features

- AI-Driven Recommendations â€” Suggests jobs based on user profiles.
- JWT Authentication â€” Secure user sessions and authorization.
- Email Verification & Password Recovery â€” Using Nodemailer and OTP-based verification.
- Profile Management â€” Personalized profiles to enhance job matching.
- Resume Uploads â€” Resume upload and parsing via Multer.
- Profile picture Uploads â€” DP upload and parsing via Multer.
- Job Cache System â€” Faster access to job data with Redis caching.
- Rate Limiting â€” Prevents API abuse and excessive requests.
- Structured Logging â€” Implemented using Pino with log rotation using Pino-roll.
- MySQL + Sequelize ORM â€” Smooth data modeling and management.
- Dynamic Email Templates â€” Beautiful EJS-based templates for user communication.
- Admin actions - Admin can manage users and also see users statistics

---

## Project Structure

```bash
AI-JOB-RECOMMENDATION-SYSTEM
â”‚
â”œâ”€â”€ logs/
â”‚   â””â”€â”€ app.YYYY-MM-DD.log           # Application logs generated by Pino
â”‚
â”œâ”€â”€ node_modules/                    # Dependencies          
â”‚
â”œâ”€â”€ postman/                         # contains the postman collection json file
|   â”œâ”€â”€ AI-Job-API.postman_collection.json
|   |
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ APP_CONFIG.js            # Central configuration variables
â”‚   â”‚   â”œâ”€â”€ cache.js                 # Redis configuration
â”‚   â”‚   â”œâ”€â”€ emailConfiguration.js    # Nodemailer setup and email configs
â”‚   â”‚   â”œâ”€â”€ logger.js                # Pino logger configuration
â”‚   â”‚   â”œâ”€â”€ sequelize.js             # Sequelize initialization and DB connection
â”‚   â”‚
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ adminControllers.js      # Handles user accoutns and stats
â”‚   â”‚   â”œâ”€â”€ authControllers.js       # Handles user registration, login, OTP, and password reset
â”‚   â”‚   â”œâ”€â”€ jobControllers.js        # Handles job fetching and recommendations
â”‚   â”‚   â”œâ”€â”€ profileControllers.js    # Handles user profile creation and update
â”‚   â”‚   â”œâ”€â”€ uploadControllers.js     # Handles resume and profile image uploads
â”‚   â”‚
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”œâ”€â”€ authMiddleware.js        # JWT verification middleware
â”‚   â”‚   â”œâ”€â”€ authorizeAdmin.js        # Checks for admin accounts for admin only routes
â”‚   â”‚   â”œâ”€â”€ errorHandler.js          # Centralized error handling middleware
â”‚   â”‚   â”œâ”€â”€ inputValidator.js        # Validates incoming request payloads
â”‚   â”‚   â”œâ”€â”€ multerSetup.js           # Config for handling file uploads
â”‚   â”‚   â”œâ”€â”€ rateLimiter.js           # Protects routes from excessive requests
â”‚   â”‚
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ Profile.js               # Profile model schema
â”‚   â”‚   â”œâ”€â”€ User.js                  # User authentication model
â”‚   â”‚   â”œâ”€â”€ index.js                 # Single export 
â”‚   â”‚
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ adminRoutes.js           # Routes for admin endpoints
â”‚   â”‚   â”œâ”€â”€ authRoutes.js            # Routes for authentication endpoints
â”‚   â”‚   â”œâ”€â”€ jobRoutes.js             # Routes for job-related operations
â”‚   â”‚   â”œâ”€â”€ profileRoutes.js         # Routes for user profile operations
â”‚   â”‚   â”œâ”€â”€ uploadRoutes.js          # Routes for resume and profile image uploads
â”‚   â”‚   â”œâ”€â”€ index.js                 # Single export file for all routes
â”‚   â”‚
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ adminService.js          # Business logic for admin actions
â”‚   â”‚   â”œâ”€â”€ authService.js           # Business logic for authentication and tokens
â”‚   â”‚   â”œâ”€â”€ emailService.js          # Handles email sending and template integration
â”‚   â”‚   â”œâ”€â”€ jobRecommendationService.js # Core AI recommendation logic
â”‚   â”‚   â”œâ”€â”€ profileService.js        # Logic for managing and updating profiles
â”‚   â”‚   â”œâ”€â”€ uploadService.js         # Logic for managing and updating resume and profile image
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ AppError.js              # Custom error class for consistent error handling
â”‚   â”‚   â”œâ”€â”€ cacheManager.js          # Handles cache control and invalidation
â”‚   â”‚   â”œâ”€â”€ emailService.js          # Reusable email helper functions
â”‚   â”‚   â”œâ”€â”€ jobFetcher.js            # External API integration for fetching job listings
â”‚   â”‚   â”œâ”€â”€ llmConnect.js            # AI connection logic (Gemini)
â”‚   â”‚   â”œâ”€â”€ otpGen.js                # Generates otp adn otp expiry date/time
|   |
â”‚   â””â”€â”€ app.js                       # Main entry point of the server
|   |
â”œâ”€â”€ views/                           # Reusable EJS templates for email content
â”‚   â”œâ”€â”€ includes/
â”‚   â”‚   â”‚   â”œâ”€â”€ footer.ejs
â”‚   â”‚   â”‚   â”œâ”€â”€ header.ejs
â”‚   â”‚   â”œâ”€â”€ passwordRecovery.ejs
â”‚   â”‚   â”œâ”€â”€ recommendedJobs.ejs
â”‚   â”‚   â”œâ”€â”€ verifyOtp.ejs
â”‚   â”‚   â”œâ”€â”€ welcomeMessage.ejs   
â”‚   â”‚
â”œâ”€â”€ uploads/                         # Stores uploaded resumes and profile images
â”‚
â”œâ”€â”€ .env.example                     # Contains all required credntials for a .env file
â”œâ”€â”€ .gitignore
â”œâ”€â”€ package.json
â”œâ”€â”€ package-lock.json
â””â”€â”€ README.md

```

---

## Environment Variables (.env)

- Create a .env file in the root directory before running the application. Ensure all credentials in .env.example file are available in your .env file.
  
```bash
# Database credentials
DB_NAME="db name"
DB_HOST="db host"
DB_USER="db user"
DB_PASSWORD="db password"
DB_PORT="db port"

# Auth
JWT_SECRET="jwt secret"
JWT_OTP_SECRET="otp secret for registration"
ACCESS_TOKEN_EXPIRY_TIME="e.g 1d"
VERIFICATION_TOKEN_EXPIRY_TIME="e.g 30d"

# Email
EMAIL_SERVICE_SMTP_HOST="smtp server eg smtp.gmail.com"
EMAIL_SERVICE_USER="your email"
EMAIL_SERVICE_APP_PASSWORD="your app password"
EMAIL_SERVICE_PORT=465
OTP_EXPIRY_TIME_MINS=5

# External APIs
JSECRET_API_KEY=
GEMINI_API_KEY=

# Application credentials
PORT=3000
NODE_ENV=development

# Logger levels
PINO_LOG_LEVEL_CONSOLE=info
PINO_LOG_LEVEL_FILE=trace

# Cache Redis Cloud from cloud.redis.io
REDIS_USERNAME=default
REDIS_PASSWORD=
REDIS_HOST=
REDIS_PORT=17720

```

---

## How It Works

- A user registers and receives a verification OTP via email.
- After verification, the user can upload a resume and create a profile.
- The system analyzes skills, education, and experience using AI APIs.
- Jobs are fetched from external APIs or the database.
- The AI model matches and recommends the most relevant jobs.
- Users receive personalized job recommendations via email.

---
## Installation & Usage
### Clone the repository

```bash
git clone https://github.com/osazuwamatthewogbebor/ai-job-recommendation-system.git
cd ai-job-recommendation-system
```
---
### Install dependencies
```bash
npm install
```
### Create .env
- Add your credentials following the .env template above.
---
### Run the project
- Development
```bash
npm run dev
```
---
- Production:
```bash
npm start
```
---

## Email Templates

- Located in ./views:
- welcomeMessage.ejs â€“ Welcome message after signup
- verifyOtp.ejs â€“ OTP verification mail
- passwordRecovery.ejs â€“ Password recovery instructions
- recommendedJobs.ejs â€“ AI job recommendation email
- footer.ejs, header.ejs â€“ Shared components for emails in .views/includes

---

## ğŸš€ API Overview

This API powers the AI Job Finder application, providing endpoints for user authentication, job scraping, and AI-driven job recommendations.

---


### âš™ï¸ Quick Start

1. Clone this repository
2. Run `npm install`
3. Configure `.env` file
4. Start server: `npm run dev`


### API Documentation

You can view the complete API documentation below:

- **Live Docs:** [Smart AI Jobber API - Postman Documentation](https://documenter.getpostman.com/view/45030267/2sB3WpQ11D)
- **Collection File:** [postman/AI-Job-API.postman_collection.json](./postman/AI-Job-API.postman_collection.json)

---

## Pino Log Levels Usage
Pino adheres to a standard severity model where each log level corresponds to a numeric value. This system is crucial for filtering logs efficiently, especially in production environments.

Logs are processed only if their level is equal to or higher (more severe) than the level configured for the logger or its targets.

| Level Name | Numeric Value | Use Case |
| :--- | :--- | :--- |
| trace	| 10	| Debugging: Extremely detailed information, often including variable states and internal function flow. |
| debug	| 20	| Debugging: Informational events useful for developers during active development and troubleshooting. |
| info	| 30	| Standard Activity (Default): Routine confirmation that application units are operating normally (e.g., Server started, Database connected). |
| warn	| 40	| Non-Critical Issues: Potential problems that don't immediately halt execution (e.g., deprecated API use, high-latency request). |
| error	| 50	| Errors: Runtime exceptions or issues that require immediate attention but might allow the application to continue running. | 
| fatal	| 60	| Critical Failure: Severe errors that cause the application to crash or become unusable. | 


### Example usage

Instead of 
```javascript
console.log(`Server started on ${port}`)
```
You can use

```javascript
logger.info(`Server started on ${port}`)
```
**The log will be saved in the app.logs file and also outputted in the console.**
---

## Future Improvements 
- Add front-end dashboard for job analytics.  
- Support LinkedIn profile imports for auto-profile creation.  
- Use fine-tuned AI agent for smarter job ranking orchestration.
   
---

## Contributors
- This project was built collaboratively by:
  
- [Temitope Funmilola Ibikunle](https://github.com/Temmyibk) (Authentication & Project Documentation Specialist)
- [Sultan Abdussalam Oriire](https://github.com/Abdussalam-Sultan) (AI & API Integration Expert)
- [Osazuwa Matthew Ogbebor](https://github.com/osazuwamatthewogbebor) (System Reliability Lead & API Docs Architect)
- [Samuel Boman Elias](https://github.com/Samuelboman) (Database Administrator and Manager)
- [Timothy Olaleye](https://github.com/Folarex10) (User Management & Access Control Expert)



*Each member actively contributed code, commits, and documentation.*

---
## Special Acknowledgement
We extend our deepest gratitude to Mr. Oluwatobi Adelabu, our tutor and mentor, for his continuous support, insightful guidance, and encouragement throughout the development of this project. Your leadership helped shape our technical and collaborative growth.
- â€” Team Prosper TechCrush
